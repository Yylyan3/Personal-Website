～<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yulin Yan - Contemporary Composer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Optima, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue",
                         Arial, "Noto Sans", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
                         sans-serif;
            background-color: #fafafa;
            color: #333;
            font-weight: 100;
            line-height: 1.6;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Language Switch */
        .language-switch {
            position: fixed;
            top: 40px;
            right: 40px;
            z-index: 200;
            display: flex;
            gap: 35px;
        }

        .lang-btn {
            background: transparent;
            border: none;
            font-family: 'Optima', 'Avenir Next', 'Helvetica Neue', Arial, sans-serif;
            font-size: 12px;
            font-weight: 100;
            letter-spacing: 1px;
            color: #666;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            padding: 0;
        }

        .lang-btn:hover {
            color: #333;
        }

        .lang-btn.active {
            color: #333;
            text-decoration: underline;
        }

        /* Left Navigation */
        .sidebar {
            width: 280px;
            background-color: #fff;
            border-right: 1px solid #e5e5e5;
            position: fixed;
            height: 100vh;
            padding: 40px 0;
            z-index: 100;
            display: flex;
            flex-direction: column;
        }

        .nav-content {
            flex: 1;
        }

        .logo {
            padding: 0 40px 60px 40px;
            margin-bottom: 40px;
        }

        .logo h1 {
            font-size: 22px;
            font-weight: 100;
            letter-spacing: 0.28em;
            text-transform: uppercase;
            line-height: 1;
            font-family: Optima, 'Avenir Next', 'Helvetica Neue', Arial, sans-serif;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .logo h1:hover {
            color: #666;
        }

        .nav-menu {
            list-style: none;
            padding: 0 40px;
        }

        .nav-menu li {
            margin-bottom: 35px;
        }

        .nav-menu a {
            color: #6B7280;
            text-decoration: none;
            font-size: 12px;
            font-weight: 100;
            letter-spacing: 0.22em;
            text-transform: uppercase;
            line-height: 1.5rem;
            font-family: Optima, 'Avenir Next', 'Helvetica Neue', Arial, sans-serif;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            color: #111827;
            padding-left: 10px;
        }

        .soundcloud-link {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            width: 24px;
            height: 24px;
            margin-top: 15px;
        }

        .soundcloud-link:hover {
            color: #ff6600 !important;
            padding-left: 10px !important;
        }

        .soundcloud-link svg {
            transition: all 0.3s ease;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 280px;
            padding: 60px 80px;
        }

        .page {
            display: none;
            max-width: 800px;
            animation: fadeIn 0.5s ease-in-out;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Neural Network Home Page */
        .neural-network-container {
            position: relative;
            width: 100%;
            height: calc(100vh - 120px);
            overflow: hidden;
            background: linear-gradient(135deg, #fafafa 0%, #f5f5f5 100%);
        }

        #neuralCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .audio-bubbles {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .audio-bubble {
            position: absolute;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #fff 0%, #f8f8f8 100%);
            border: 2px solid #e5e5e5;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            animation: float 6s ease-in-out infinite;
        }

        .audio-bubble:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 30px rgba(0,0,0,0.2);
            border-color: #333;
            background: linear-gradient(135deg, #f0f0f0 0%, #e8e8e8 100%);
        }

        .audio-bubble.playing {
            border-color: #007bff;
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            animation: pulse 1s ease-in-out infinite;
        }

        .bubble-content {
            text-align: center;
            padding: 10px;
        }

        .bubble-title {
            font-size: 12px;
            font-weight: 100;
            letter-spacing: 1px;
            text-transform: uppercase;
            color: #333;
            line-height: 1.2;
        }

        /* Bubble Positioning */
        .audio-bubble:nth-child(1) {
            top: 20%;
            left: 15%;
            animation-delay: 0s;
        }

        .audio-bubble:nth-child(2) {
            top: 15%;
            right: 20%;
            animation-delay: 1s;
        }

        .audio-bubble:nth-child(3) {
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation-delay: 2s;
        }

        .audio-bubble:nth-child(4) {
            bottom: 25%;
            left: 20%;
            animation-delay: 3s;
        }

        .audio-bubble:nth-child(5) {
            bottom: 20%;
            right: 15%;
            animation-delay: 4s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Home Page Legacy */
        .home-content {
            padding-top: 100px;
            position: relative;
            min-height: calc(100vh - 160px);
        }

        .sidebar-copyright {
            padding: 0 40px 40px 40px;
            font-size: 11px;
            font-weight: 100;
            letter-spacing: 0.18em;
            text-transform: uppercase;
            color: #9CA3AF;
            font-family: Optima, 'Avenir Next', 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.4;
        }

        .home-content h2 {
            font-size: 36px;
            font-weight: 100;
            margin-bottom: 30px;
            letter-spacing: 1px;
        }

        .home-content p {
            font-size: 16px;
            line-height: 1.8;
            margin-bottom: 25px;
            color: #555;
        }

        /* Section Headers */
        .section-header {
            margin-bottom: 50px;
        }

        .section-header h2 {
            font-size: 28px;
            font-weight: 100;
            letter-spacing: 1px;
            margin-bottom: 20px;
        }

        .section-header p {
            font-size: 16px;
            color: #666;
            line-height: 1.7;
        }

        /* Biography */
        /* Biography */
        .bio-layout {
            display: flex;
            gap: 60px;
            margin-bottom: 40px;
            align-items: flex-start;
        }

        .bio-photo {
            flex-shrink: 0;
            width: 300px;
        }

        .bio-photo img {
            width: 100%;
            height: auto;
            object-fit: cover;
            border: 1px solid #e5e5e5;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .bio-photo img:hover {
            transform: scale(1.02);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }

        /* Image Modal */
        .image-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
            cursor: pointer;
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
        }

        .close {
            position: absolute;
            top: 30px;
            right: 50px;
            color: #fff;
            font-size: 40px;
            font-weight: 100;
            cursor: pointer;
            z-index: 1001;
        }


        .bio-content {
            flex: 1;
            font-size: 16px;
            line-height: 1.8;
        }

        .bio-content p {
            margin-bottom: 25px;
        }

        .cv-link {
            display: inline-block;
            padding: 12px 24px;
            border: 1px solid #ddd;
            text-decoration: none;
            color: #333;
            font-size: 14px;
            letter-spacing: 1px;
            text-transform: uppercase;
            transition: all 0.3s ease;
        }

        .cv-link:hover {
            background-color: #333;
            color: #fff;
        }

        /* Media Grid */
        .media-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-top: 30px;
        }

        .media-item {
            background: transparent;
            padding: 0;
        }

        .media-item:hover {
            /* No hover effects */
        }

        .media-item:last-child {
            grid-column: 1 / -1;
        }

        .media-item h3 {
            font-size: 16px;
            font-weight: 100;
            margin-bottom: 4px;
        }

        .media-item p {
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
        }

        .media-link {
            color: #333;
            text-decoration: none;
            font-size: 13px;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        /* Works List */
        .works-filter {
            margin-bottom: 40px;
        }

        .filter-buttons {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }

        .filter-btn {
            padding: 10px 20px;
            border: 1px solid #ddd;
            background: transparent;
            color: #666;
            font-family: 'Optima', 'Avenir Next', 'Helvetica Neue', Arial, sans-serif;
            font-size: 13px;
            letter-spacing: 1px;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background-color: #333;
            color: #fff;
        }

        .works-list {
            margin-top: 30px;
        }

        .work-item {
            border-bottom: 1px solid #f0f0f0;
            padding: 8px 0;
            transition: background-color 0.3s ease;
        }

        .work-item:hover {
            background-color: rgba(0,0,0,0.02);
        }

        .work-title {
            font-size: 18px;
            font-weight: 100;
            margin-bottom: 4px;
            display: flex;
            align-items: baseline;
            gap: 20px;
        }

        .work-year {
            font-size: 16px;
            color: #999;
            font-weight: 100;
            min-width: 60px;
        }

        .work-title a {
            color: #333;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .work-title a:hover {
            color: #666;
            text-decoration: underline;
        }

        .work-details {
            font-size: 14px;
            color: #666;
            margin-bottom: 4px;
        }

        .work-instrumentation {
            font-size: 13px;
            color: #888;
            font-style: italic;
            margin-left: 80px;
        }

        /* Events */
        .events-section {
            margin-bottom: 50px;
        }

        .events-section h3 {
            font-size: 20px;
            font-weight: 100;
            margin-bottom: 25px;
            color: #333;
        }

        .event-item {
            border-left: 3px solid #e5e5e5;
            padding-left: 20px;
            margin-bottom: 25px;
            transition: border-color 0.3s ease;
        }

        .event-item:hover {
            border-left-color: #333;
        }

        .event-date {
            font-size: 13px;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }

        .event-venue {
            font-size: 13px;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .event-title {
            font-size: 16px;
            font-weight: 100;
            margin-bottom: 5px;
        }

        .event-title a {
            color: #333;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .event-title a:hover {
            color: #666;
            text-decoration: underline;
        }

        .event-details {
            font-size: 14px;
            color: #666;
        }

        /* Contact */
        .contact-info {
            margin-top: 30px;
        }

        .contact-item {
            margin-bottom: 20px;
        }

        .contact-item strong {
            font-weight: 100;
            color: #333;
        }

        .contact-item a {
            color: #666;
            text-decoration: none;
        }

        .contact-item a:hover {
            color: #333;
        }

        /* Chinese Font Preview Styles */
        .font-songti { font-family: "Songti SC", "STSong", "SimSun", serif; }
        .font-pingfang { font-family: "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif; }
        .font-kaiti { font-family: "Kaiti SC", "STKaiti", "KaiTi", "楷体", serif; }
        .font-heiti { font-family: "STHeiti", "SimHei", "Microsoft YaHei", sans-serif; }
        .font-noto { font-family: "Noto Sans CJK SC", "Source Han Sans CN", "PingFang SC", sans-serif; }

        .font-label {
            display: inline-block;
            background: #e8e8e8;
            padding: 4px 8px;
            font-size: 11px;
            border-radius: 3px;
            margin-left: 10px;
            font-family: "Monaco", "Menlo", monospace;
            color: #666;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
            }

            .main-content {
                margin-left: 0;
                padding: 40px 30px;
            }

            .language-switch {
                top: 20px;
                right: 20px;
            }

            .media-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .filter-buttons {
                flex-wrap: wrap;
            }

            .bio-layout {
                flex-direction: column;
                gap: 30px;
            }

            .bio-photo {
                width: 100%;
                max-width: 250px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Language Switch -->
        <div class="language-switch">
            <button class="lang-btn active" onclick="switchLanguage('en')">EN</button>
            <button class="lang-btn" onclick="switchLanguage('ch')">CH</button>
        </div>
        <!-- Left Sidebar Navigation -->
        <nav class="sidebar">
            <div class="nav-content">
                <div class="logo">
                    <h1 onclick="showPage('home')">YULIN YAN</h1>
                </div>
                <ul class="nav-menu">
                    <li><a href="#" onclick="showPage('biography')" data-page="biography">ABOUT</a></li>
                    <li><a href="#" onclick="showPage('media')" data-page="media">MEDIA</a></li>
                    <li><a href="#" onclick="showPage('works')" data-page="works">WORKS</a></li>
                    <li><a href="#" onclick="showPage('events')" data-page="events">EVENTS</a></li>
                    <li><a href="#" onclick="showPage('contact')" data-page="contact">CONTACT</a></li>
                </ul>
            </div>
            <div class="sidebar-copyright">
                © 2025 — YULIN YAN<br>
                ALL RIGHTS RESERVED
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Home Page -->
            <div id="home" class="page active">
                <div class="neural-network-container">
                    <canvas id="neuralCanvas"></canvas>
                    <div class="audio-bubbles">
                        <div class="audio-bubble" data-audio="audio-excerpts/Flute_Bird_gliss+tk.wav" data-title="Flute Bird Gliss">
                            <div class="bubble-content">
                                <span class="bubble-title">Bird Gliss</span>
                            </div>
                        </div>
                        <div class="audio-bubble" data-audio="audio-excerpts/Flute_Bird_humming.wav" data-title="Flute Bird Humming">
                            <div class="bubble-content">
                                <span class="bubble-title">Bird Humming</span>
                            </div>
                        </div>
                        <div class="audio-bubble" data-audio="audio-excerpts/Flute_Dual_flz..wav" data-title="Flute Dual">
                            <div class="bubble-content">
                                <span class="bubble-title">Dual Flute</span>
                            </div>
                        </div>
                        <div class="audio-bubble" data-audio="audio-excerpts/Flute_flute_keyclicks.wav" data-title="Flute Key Clicks">
                            <div class="bubble-content">
                                <span class="bubble-title">Key Clicks</span>
                            </div>
                        </div>
                        <div class="audio-bubble" data-audio="audio-excerpts/Flute_flute_tongue ram.wav" data-title="Flute Tongue Ram">
                            <div class="bubble-content">
                                <span class="bubble-title">Tongue Ram</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Biography Page -->
            <div id="biography" class="page">
                <div class="section-header">
                    <h2>BIO</h2>
                </div>
                <div class="bio-layout">
                    <div class="bio-photo">
                        <img src="Headshot_YulinYan.jpg" alt="Yulin Yan" onclick="openModal()">
                    </div>
                    <div>
                        <div class="bio-content" id="bio-long-en">
                            <p>Yulin Yan, yehyehyeh born in 1998, is a composer of instrumental and electroacoustic music. Her works are characterized by nuanced timbre and tension, emphasizing the ambiguity of the perception of reality and fantasy. Besides the sonic layer, the intensity of her works is often created by reference to extra-musical content, including literature, theatrical elements, olfactory art as well as social issues.
                          </p>Yan's music have been programmed on various occasions across the world, including ilSUONO Contemporary Music Week, live@CIRMMT, Code d'accès, Collectof RADIANCE, Novalis Festival, Roadrunner Academy, Thailand International Composition Festival etc. She collaborated with Ensemble Suono Giallo, Hong Kong New Music Ensemble, Ensemble Éclat, McGill Contemporary Music Ensemble, McGill SSoM Saxophone, New Zealand String Quartet, as well as conductor Lorraine Vaillancourt, Gregor A. Mayrhofer, Charles-Eric Fontaine etc. She is the recipient of Schulich Grad Scholarship, National Scholarship (China), and Sichuan Outstanding Graduate. She holds a bachelor degree from Sichuan Conservatory of Music where she studied composition with Xiaozhong Yang. She is currently pursuing her doctorate degree at McGill University Schulich School of Music with Philippe Leroux, where she also obtained her master's degree.</p>
                        </div>
                        <div class="bio-content" id="bio-long-ch" style="display:none;">
                            <p>晏毓璘（1998年，生于中国成都），青年作曲家。其创作涉及器乐、电声及混合电子音乐的交互探索。本科毕业于四川音乐学院，师从杨晓忠教授。目前，她以全额奖学金在麦吉尔大学舒立克音乐学院攻读作曲博士学位，师从法国作曲家菲利普·勒鲁（Philippe Leroux）。她的作品曾在加拿大、法国、荷兰、意大利、克罗地亚、中国等数十个国际音乐活动中展演，并与Ensemble Multilatérale、Ensemble Suono Giallo、Hong Kong New Music Ensemble、Ensemble Éclat、Roadrunner Trio等职业乐团，以及指挥家Lorraine Vaillancourt、Gregor A. Mayrhofer等合作。她曾获得Schulich研究生奖学金、中国国家奖学金及国家公派留学奖学金。</p>
                        </div>
                        <div style="margin-top: 50px; margin-bottom: 20px;">
                            <a href="CV_YulinYan.pdf" class="cv-link" target="_blank">CURRICULUM VITAE</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Media Page -->
            <div id="media" class="page">
                <div class="section-header">
                    <h2>MEDIA</h2>
                </div>
                <div class="media-grid">
                    <div class="media-item">
                        <h3>ciāo</h3>
                        <p>2022 • 15 musicians • 8'10"</p>
                        <iframe width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/soundcloud%253Atracks%253A1265443165&color=%23e0e8ec&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true" style="margin-top: 10px;"></iframe>
                        <div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/yulin-yan-543435110" title="Yulin Yan" target="_blank" style="color: #cccccc; text-decoration: none;">Yulin Yan</a> · <a href="https://soundcloud.com/yulin-yan-543435110/2-2-5a" title="ciāo《劁》[2022]" target="_blank" style="color: #cccccc; text-decoration: none;">ciāo《劁》[2022]</a></div>
                    </div>
                    <div class="media-item">
                        <h3>Post-Pandemic Memo</h3>
                        <p>2022 • vc., elec. • 8'50"</p>
                        <iframe width="100%" height="300" src="https://www.youtube.com/embed/Ce2N7Xvy9WI?si=L0dDBH1gvNiMigkq&amp;controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen style="margin-top: 10px;"></iframe>
                    </div>
                    <div class="media-item" style="grid-column: 1 / -1;">
                        <h3>Studies for the Second Womb</h3>
                        <p>2023 • tsax., vc., elec. • 11'50"</p>
                        <iframe width="100%" height="350" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/soundcloud%253Aplaylists%253A2088090663&color=%23e0e8ec&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true" style="margin-top: 10px;"></iframe>
                        <div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/yulin-yan-543435110" title="Yulin Yan" target="_blank" style="color: #cccccc; text-decoration: none;">Yulin Yan</a> · <a href="https://soundcloud.com/yulin-yan-543435110/sets/studies-for-the-second-womb" title="Studies for the Second Womb《二号子宫研究》[2023]" target="_blank" style="color: #cccccc; text-decoration: none;">Studies for the Second Womb《二号子宫研究》[2023]</a></div>
                    </div>
                    <div class="media-item">
                        <h3>Fo</h3>
                        <p>2024 • asax., db., elec. • 4'10"</p>
                        <iframe width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/soundcloud%253Atracks%253A1973469323&color=%23e0e8ec&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true" style="margin-top: 10px;"></iframe>
                        <div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/yulin-yan-543435110" title="Yulin Yan" target="_blank" style="color: #cccccc; text-decoration: none;">Yulin Yan</a> · <a href="https://soundcloud.com/yulin-yan-543435110/fo-excerpt" title="Fo [2024] | excerpt" target="_blank" style="color: #cccccc; text-decoration: none;">Fo [2024] | excerpt</a></div>
                    </div>
                    <div class="media-item">
                        <h3>Fo Ⅱ</h3>
                        <p>2025 • saxophone quartet • 7'30"</p>
                        <iframe width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/soundcloud%253Atracks%253A2170619211&color=%23e0e8ec&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true" style="margin-top: 10px;"></iframe>
                        <div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/yulin-yan-543435110" title="Yulin Yan" target="_blank" style="color: #cccccc; text-decoration: none;">Yulin Yan</a> · <a href="https://soundcloud.com/yulin-yan-543435110/fo-ii" title="Fo II [2025]" target="_blank" style="color: #cccccc; text-decoration: none;">Fo II [2025]</a></div>
                    </div>
                    <div class="media-item">
                        <h3>Naked Question</h3>
                        <p>2022 • vc., elec. • 11'20"</p>
                        <iframe width="100%" height="300" src="https://www.youtube.com/embed/kt5gypl67ig?si=5TytwtEVvSngWxJH&amp;controls=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen style="margin-top: 10px;"></iframe>
                    </div>
                    <div class="media-item">
                        <h3>M'offrirai</h3>
                        <p>2022 • cl., vc., acc. • 7'20"</p>
                        <iframe width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/soundcloud%253Atracks%253A1341980296&color=%23e0e8ec&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true" style="margin-top: 10px;"></iframe>
                        <div style="font-size: 10px; color: #cccccc;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/yulin-yan-543435110" title="Yulin Yan" target="_blank" style="color: #cccccc; text-decoration: none;">Yulin Yan</a> · <a href="https://soundcloud.com/yulin-yan-543435110/moffrirai-2022-excerpt" title="M&#x27;offrirai《祭吾之》[2022] | excerpt" target="_blank" style="color: #cccccc; text-decoration: none;">M&#x27;offrirai《祭吾之》[2022] | excerpt</a></div>
                    </div>
                    <div class="media-item">
                        <h3>Works for hybrid ensemble (Chinese traditional instruments & Western orchestral instruments)</h3>
                        <iframe width="100%" height="350" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/soundcloud%253Aplaylists%253A1377555565&color=%23e0e8ec&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true" style="margin-top: 10px;"></iframe>
                    </div>
                </div>
            </div>

            <!-- Works Page -->
            <div id="works" class="page">
                <div class="section-header">
                    <h2>WORKS</h2>
                </div>
                <div class="works-filter">
                    <div class="filter-buttons">
                        <button class="filter-btn active" onclick="filterWorks('all')">All Works</button>
                        <button class="filter-btn" onclick="filterWorks('acoustic')">Acoustic</button>
                        <button class="filter-btn" onclick="filterWorks('mixed')">Mixed</button>
                        <button class="filter-btn" onclick="filterWorks('electroacoustic')">Electroacoustic</button>
                    </div>
                </div>
                <div class="works-list">
                    <div class="work-item" data-category="acoustic">
                        <div class="work-title">
                            <span class="work-year">2025</span>
                            <a href="works/sinking-incense-ii.html">Sinking Incense Ⅱ《沉水Ⅱ》</a>
                        </div>
                        <div class="work-instrumentation">fl., cl., vc., db., hp., perc. • 10'</div>
                    </div>
                    <div class="work-item" data-category="mixed">
                        <div class="work-title">
                            <span class="work-year">2024-25</span>
                            <a href="works/the-scent-blind.html">The Scent Blind《香盲者》</a>
                        </div>
                        <div class="work-instrumentation">vn., bcl., tbn., vib., elec. • 5'</div>
                    </div>
                    <div class="work-item" data-category="acoustic">
                        <div class="work-title">
                            <span class="work-year">2025</span>
                            <a href="works/fo-ii.html">Fo Ⅱ</a>
                        </div>
                        <div class="work-instrumentation">saxophone quartet • 7'30"</div>
                    </div>
                    <div class="work-item" data-category="mixed">
                        <div class="work-title">
                            <span class="work-year">2024</span>
                            <a href="works/fo.html">Fo</a>
                        </div>
                        <div class="work-instrumentation">asax., db., elec. • 4'10"</div>
                    </div>
                    <div class="work-item" data-category="acoustic">
                        <div class="work-title">
                            <span class="work-year">2024</span>
                            <a href="works/ru.html">Ru</a>
                        </div>
                        <div class="work-instrumentation">bcl., vc., pno. • 8'20"</div>
                    </div>
                    <div class="work-item" data-category="mixed">
                        <div class="work-title">
                            <span class="work-year">2023</span>
                            <a href="works/studies-for-the-second-womb.html">Studies for the Second Womb《二号子宫研究》</a>
                        </div>
                        <div class="work-instrumentation">tsax., vc., elec. • 11'50"</div>
                    </div>
                    <div class="work-item" data-category="electroacoustic">
                        <div class="work-title">
                            <span class="work-year">2022-23</span>
                            <a href="works/apropos-of-thrownness.html">Apropos of Thrownness</a>
                        </div>
                        <div class="work-instrumentation">fixed media (hybrid multichannel) • 5'40"</div>
                    </div>
                    <div class="work-item" data-category="acoustic">
                        <div class="work-title">
                            <span class="work-year">2022</span>
                            <a href="works/ciao.html">ciāo《劁》</a>
                        </div>
                        <div class="work-instrumentation">ensemble (15 musicians) • 8'10"</div>
                    </div>
                    <div class="work-item" data-category="mixed">
                        <div class="work-title">
                            <span class="work-year">2022</span>
                            <a href="works/naked-question.html">Naked Question《裸问》</a>
                        </div>
                        <div class="work-instrumentation">vc., elec. • 11'20"</div>
                    </div>
                    <div class="work-item" data-category="acoustic">
                        <div class="work-title">
                            <span class="work-year">2022</span>
                            <a href="works/to-whom-it-may-not-guilt.html">To Whom It May Not Guilt《致无歉之人》</a>
                        </div>
                        <div class="work-instrumentation">vn., cl., pno. • 7'20"</div>
                    </div>
                    <div class="work-item" data-category="mixed">
                        <div class="work-title">
                            <span class="work-year">2022</span>
                            <a href="works/post-pandemic-memo.html">Post-Pandemic Memo《后疫书》</a>
                        </div>
                        <div class="work-instrumentation">vc., elec. • 8'50"</div>
                    </div>
                    <div class="work-item" data-category="acoustic">
                        <div class="work-title">
                            <span class="work-year">2022</span>
                            <a href="works/moffrirai.html">M'offrirai《祭吾之》</a>
                        </div>
                        <div class="work-instrumentation">cl., vc., acc. • 7'20"</div>
                    </div>
                    <div class="work-item" data-category="electroacoustic">
                        <div class="work-title">
                            <span class="work-year">2021</span>
                            <a href="works/the-destined.html">The Destined《注定之物》</a>
                        </div>
                        <div class="work-instrumentation">fixed media (stereo) • 5'17"</div>
                    </div>
                    <div class="work-item" data-category="acoustic">
                        <div class="work-title">
                            <span class="work-year">2020-21</span>
                            <a href="works/sinking-incense.html">Sinking Incense《沉水》</a>
                        </div>
                        <div class="work-instrumentation">pipa, hp., perc., 2 vn., va., vc., db. • 13'</div>
                    </div>
                    <div class="work-item" data-category="acoustic">
                        <div class="work-title">
                            <span class="work-year">2019</span>
                            <a href="works/the-absurd-path.html">The Absurd Path《荒路》</a>
                        </div>
                        <div class="work-instrumentation">sheng, guzheng, pipa, fl., cl., vn., vc. • 8'</div>
                    </div>
                    <div class="work-item" data-category="acoustic">
                        <div class="work-title">
                            <span class="work-year">2019</span>
                            <a href="works/a-wanderer-beyond-the-sea.html">A Wanderer Beyond the Sea《彼岸的游人》</a>
                        </div>
                        <div class="work-instrumentation">fl., cl., vn., perc. • 10'20"</div>
                    </div>
                    <div class="work-item" data-category="acoustic">
                        <div class="work-title">
                            <span class="work-year">2019</span>
                            <a href="works/whirling-dance-among-the-mountains-ii.html">Whirling Dance Among the Mountains Ⅱ《空山旋舞Ⅱ》</a>
                        </div>
                        <div class="work-instrumentation">dizi, pipa, pno., vn., va., vc., db. • 8'50"</div>
                    </div>
                     <div class="work-item" data-category="acoustic">
                        <div class="work-title">
                            <span class="work-year">2019</span>
                            <a href="works/whirling-dance-among-the-mountains.html">Whirling Dance Among the Mountains《空山旋舞》</a>
                        </div>
                        <div class="work-instrumentation">solo piano • 7'</div>
                    </div>
                    <div class="work-item" data-category="acoustic">
                        <div class="work-title">
                            <span class="work-year">2018-19</span>
                            <a href="works/in-a-bonsai.html">In a Bonsai《抚古盆趣》</a>
                        </div>
                        <div class="work-instrumentation">guzheng, acc., vn., db. • 11'</div>
                    </div>
                    <div class="work-item" data-category="acoustic">
                        <div class="work-title">
                            <span class="work-year">2018</span>
                            <a href="works/evening-prayer.html">Evening Prayer《晚祷》</a>
                        </div>
                        <div class="work-instrumentation">sop., 2 vn., 2 va., 2 vc. • 7'20"</div>
                    </div>
                    <div class="work-item" data-category="acoustic">
                        <div class="work-title">
                            <span class="work-year">2017</span>
                            <a href="works/fu-gu-painting.html">Fu-gu Painting《抚古图》</a>
                        </div>
                        <div class="work-instrumentation">solo guzheng • 6'40"</div>
                    </div>
                    <div class="work-item" data-category="acoustic">
                        <div class="work-title">
                            <span class="work-year">2016</span>
                            <a href="works/mountain-moon.html">Mountain Moon《山月》</a>
                        </div>
                        <div class="work-instrumentation">m-sop., pno. • 6'30"</div>
                    </div>
                    <div class="work-item" data-category="acoustic">
                        <div class="work-title">
                            <span class="work-year">2016</span>
                            <a href="works/spring-fever.html">Spring Fever《青阳·葳蕤》</a>
                        </div>
                        <div class="work-instrumentation">solo piano • 5'</div>
                    </div>
                    <div class="work-item" data-category="acoustic">
                        <div class="work-title">
                            <span class="work-year">2015</span>
                            <a href="works/abandoned-wells-icy-stares.html">Abandoned Wells, Icy Stares《废井冷眼》</a>
                        </div>
                        <div class="work-instrumentation">vc., pno. • 8'</div>
                     </div>
                    <div class="work-item" data-category="acoustic">
                        <div class="work-title">
                            <span class="work-year">2013-14</span>
                            <a href="works/no-flowers-of-wealth.html">No Flowers of Wealth《不是人间富贵花》</a>
                        </div>
                        <div class="work-instrumentation">sop., ten., pno. • 9'</div>
                     </div>
                </div>
            </div>

            <!-- Events Page -->
            <div id="events" class="page">
                <div class="section-header">
                    <h2>EVENTS</h2>
                </div>
                
                <div class="events-section">
                    <h3>Upcoming</h3>
                    <div class="event-item">
                        <div class="event-date">July 11, 2025<span class="event-venue"> | Marseille, France</span></div>
                        <div class="event-title">"Sinking Incense Ⅱ" • <a href="https://www.arco-academy.eu/events/agenda" target="_blank">ARCO Academy 2025</a></div>
                        <div class="event-details">Ensemble Multilatérale, Sohye Jung (cond.)</div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">April 10, 2025<span class="event-venue"> | Montreal, Canada</span></div>
                        <div class="event-title">"The Scent Blind" • <a href="https://www.actorproject.org/events-2/concert-core-round3-mcgill" target="_blank">The ACTOR Project - CORE Round 3</a></div>
                        <div class="event-details">CORE Ensemble, Charles-Eric Fontaine (cond.)</div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">April 09, 2025<span class="event-venue"> | Montreal, Canada</span></div>
                        <div class="event-title">"Fo Ⅱ" • McGill Composer-in-Residence program</div>
                        <div class="event-details">SSoM Saxophone Quartet</div>
                    </div>
                </div>
                <div class="events-section">
                    <h3>Past Performances</h3>
                    <div class="event-item">
                        <div class="event-date">December 13, 2024<span class="event-venue"> | Montreal, Canada</span></div>
                        <div class="event-title">"Studies for the Second Womb" • <a href="https://www.cirmmt.org/en/events/live-cirmmt/13-dec-2024" target="_blank">live@CIRMMT: Instruments and electronics</a></div>
                        <div class="event-details">Antonin Bourgault (sax.), Audréanne Filion (vc.)</div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">November 16, 2024<span class="event-venue"> | Baltimore, USA</span></div>
                        <div class="event-title">"Apropos of Thrownness" • <a href="https://www.redroom.org/diffusion-night-four-voxel-theater/" target="_blank">DIFFUSION Festival</a></div>
                        <div class="event-details">Pierre Alexandre Tremblay (diffusion)</div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">July 17, 2024<span class="event-venue"> | Sansepolcro, Italy</span></div>
                        <div class="event-title">"Fo" • <a href="https://www.ilsuonoacademy.com/copy-of-participants-2024" target="_blank">International ilSUONO Contemporary Music Week 2024</a></div>
                        <div class="event-details">Ensemble Suono Giallo</div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">April 13, 2024<span class="event-venue"> | Paris, France</span></div>
                        <div class="event-title">"Apropos of Thrownness" • TPMC petites formes 2024</div>
                        <div class="event-details"></div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">March 19, 2024<span class="event-venue"> | Montreal, Canada</span></div>
                        <div class="event-title">"Ru" • <a href="https://www.ensembleeclat.com/residencedecreationmcgill" target="_blank">Ensemble Éclat residency</a></div>
                        <div class="event-details">Ensemble Éclat, Charles-Eric Fontaine (cond.)</div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">February 23, 2024<span class="event-venue"> | Montreal, Canada</span></div>
                        <div class="event-title">"Studies for the Second Womb" • <a href="https://levivier.ca/en/concert/2023-24-season/8th-annual-viu-concert" target="_blank">8th Annual ViU Concert</a></div>
                        <div class="event-details">Antonin Bourgault (sax.), Audréanne Filion (vc.)</div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">October 24, 2023<span class="event-venue"> | Montreal, Canada</span></div>
                        <div class="event-title">"Studies for the Second Womb" • <a href="https://fb.me/e/3bi0LFuPc" target="_blank">Collectif Radiance Concert</a></div>
                        <div class="event-details">Antonin Bourgault (sax.), Audréanne Filion (vc.)</div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">September 15, 2023<span class="event-venue"> | Montreal, Canada</span></div>
                        <div class="event-title">"Post-Pandemic Memo" • <a href="https://fb.me/e/9VgUiiVVm" target="_blank">C'est la fête! Peter-McGill</a></div>
                        <div class="event-details">Audréanne Filion (vc.)</div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">April 21, 2023<span class="event-venue"> | Montreal, Canada</span></div>
                        <div class="event-title">"Apropos of Thrownness" • <a href="https://www.cirmmt.org/fr/events/live-cirmmt/poesie-de-tout" target="_blank">live@CIRMMT: Poésie de tout</a></div>
                        <div class="event-details"></div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">February 02, 2023<span class="event-venue"> | Montreal, Canada</span></div>
                        <div class="event-title">"Post-Pandemic Memo" • <a href="https://levivier.ca/en/concert/2022-23-season/concert-vivier-interuniversitaire" target="_blank">7th Annual ViU Concert</a></div>
                        <div class="event-details">Audréanne Filion (vc.)</div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">December 02, 2022<span class="event-venue"> | Montreal, Canada</span></div>
                        <div class="event-title">"ciāo" • McGill Composer-in-Residence program</div>
                        <div class="event-details">McGill Contemporary Music Ensemble, Lorraine Vaillancourt (cond.)</div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">November 23, 2022<span class="event-venue"> | Montreal, Canada</span></div>
                        <div class="event-title">"Naked Question" • <a href="https://codesdacces.org/evenement/masse-2022-in-quest-of-spirit/" target="_blank">Codes d'accès: In Quest of Spirit</a></div>
                        <div class="event-details">Audréanne Filion (vc.)</div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">October 14, 2022<span class="event-venue"> | Osijek, Croatia</span></div>
                        <div class="event-title">"To Whom It May Not Guilt" • <a href="https://novalisconcept.hr/index.html" target="_blank">Novalis Festival 2022</a></div>
                        <div class="event-details">Eva Mach (vln.), Mirjam Waser (pno.), Abdul-Aziz Hussein (cl.), Szilard Benes (cond.)</div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">June 2022<span class="event-venue"> | Weimar, Germany</span></div>
                        <div class="event-title">"A Wanderer Beyond the Sea" • <a href="https://nadjakracunovic.com/Future-Nostalgia-FM" target="_blank">Futurology Kiosk Project - Future Nostalgia FM</a></div>
                        <div class="event-details"></div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">May 2022<span class="event-venue"> | Montreal, Canada</span></div>
                        <div class="event-title">"Post-Pandemic Memo" • ViU Collaboration Project - 1st Edition</div>
                        <div class="event-details">Audréanne Filion (vc.)</div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">March 05, 2022<span class="event-venue"> | Amsterdam, Netherlands</span></div>
                        <div class="event-title">"M'offrirai" • Roadrunner Academy 2022</div>
                        <div class="event-details">Roadrunner Trio</div>
                    </div>
                    <div class="event-item">
                        <div class="event-date">August 08, 2019<span class="event-venue"> | Bangkok, Thailand</span></div>
                        <div class="event-title">"A Wanderer Beyond the Sea" • 15th Thailand International Composition Festival 2019</div>
                        <div class="event-details">Hong Kong New Music Ensemble, Gregor A. Mayrhofer (cond.)</div>
                    </div>
                </div>
            </div>

            <!-- Contact Page -->
            <div id="contact" class="page">
                <div class="section-header">
                    <h2>CONTACT</h2>
                </div>
                <div class="contact-info">
                    <div class="contact-item">
                        <strong>Email:</strong> <a href="mailto:yulin.yan33@gmail.com">yulin.yan33@gmail.com</a>
                    </div>
                    <div class="contact-item">
                        <strong>Social:</strong> 
                        <a href="#" style="margin-right: 15px;">LinkedIn</a>
                        <a href="#" style="margin-right: 15px;">Instagram</a>
                        <a href="https://soundcloud.com/yulin-yan-543435110" target="_blank">SoundCloud</a>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Image Modal -->
    <div id="imageModal" class="image-modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <img class="modal-content" src="Headshot_YulinYan.jpg" alt="Yulin Yan">
    </div>

    <script>
        function showPage(pageId) {
            // Hide all pages
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));

            // Remove active class from all nav links
            const navLinks = document.querySelectorAll('.nav-menu a');
            navLinks.forEach(link => link.classList.remove('active'));

            // Show selected page
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
            } else {
                console.error('Page not found:', pageId);
            }

            // Add active class to corresponding nav link
            const activeLink = document.querySelector(`[data-page="${pageId}"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }

            // Save current page to localStorage for IDE refreshes
            localStorage.setItem('currentPage', pageId);

            // Update URL hash to preserve page state on refresh
            if (pageId !== 'home') {
                window.location.hash = pageId;
            } else {
                // Clear hash for home page
                history.replaceState(null, null, window.location.pathname);
            }
        }

        function filterWorks(category) {
            const buttons = document.querySelectorAll('.filter-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            const works = document.querySelectorAll('.work-item');
            works.forEach(work => {
                if (category === 'all' || work.dataset.category === category) {
                    work.style.display = 'block';
                } else {
                    work.style.display = 'none';
                }
            });
        }

        function switchLanguage(lang) {
            // Update active button
            document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // Switch biography language
            if (lang === 'ch') {
                document.getElementById('bio-long-en').style.display = 'none';
                document.getElementById('bio-long-ch').style.display = 'block';
            } else {
                document.getElementById('bio-long-en').style.display = 'block';
                document.getElementById('bio-long-ch').style.display = 'none';
            }

            // Placeholder for other language switching logic
            console.log('Switched to:', lang);
        }

        // Image Modal Functions
        function openModal() {
            document.getElementById('imageModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('imageModal').style.display = 'none';
        }

        // Close modal when clicking outside the image
        window.onclick = function(event) {
            const modal = document.getElementById('imageModal');
            if (event.target == modal) {
                closeModal();
            }
        }

        // Neural Network Animation
        function initNeuralNetwork() {
            const canvas = document.getElementById('neuralCanvas');
            if (!canvas) return;

            const ctx = canvas.getContext('2d');
            const bubbles = document.querySelectorAll('.audio-bubble');

            // Set canvas size
            function resizeCanvas() {
                canvas.width = canvas.offsetWidth;
                canvas.height = canvas.offsetHeight;
            }
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);

            // Get bubble positions
            function getBubblePositions() {
                return Array.from(bubbles).map(bubble => {
                    const rect = bubble.getBoundingClientRect();
                    const containerRect = canvas.getBoundingClientRect();
                    return {
                        x: rect.left - containerRect.left + rect.width / 2,
                        y: rect.top - containerRect.top + rect.height / 2,
                        element: bubble
                    };
                });
            }

            // Draw neural connections
            function drawConnections() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                const positions = getBubblePositions();

                ctx.strokeStyle = 'rgba(200, 200, 200, 0.3)';
                ctx.lineWidth = 1;

                // Draw connections between bubbles
                for (let i = 0; i < positions.length; i++) {
                    for (let j = i + 1; j < positions.length; j++) {
                        const distance = Math.sqrt(
                            Math.pow(positions[i].x - positions[j].x, 2) +
                            Math.pow(positions[i].y - positions[j].y, 2)
                        );

                        if (distance < 400) { // Only draw connections for nearby bubbles
                            const opacity = Math.max(0.1, 1 - distance / 400);
                            ctx.strokeStyle = `rgba(200, 200, 200, ${opacity})`;

                            ctx.beginPath();
                            ctx.moveTo(positions[i].x, positions[i].y);
                            ctx.lineTo(positions[j].x, positions[j].y);
                            ctx.stroke();
                        }
                    }
                }

                // Draw active connections for playing bubbles
                const playingBubbles = Array.from(bubbles).filter(b => b.classList.contains('playing'));
                if (playingBubbles.length > 0) {
                    ctx.strokeStyle = 'rgba(0, 123, 255, 0.6)';
                    ctx.lineWidth = 2;

                    playingBubbles.forEach(playingBubble => {
                        const playingPos = positions.find(p => p.element === playingBubble);
                        positions.forEach(pos => {
                            if (pos.element !== playingBubble) {
                                ctx.beginPath();
                                ctx.moveTo(playingPos.x, playingPos.y);
                                ctx.lineTo(pos.x, pos.y);
                                ctx.stroke();
                            }
                        });
                    });
                }
            }

            // Animation loop
            function animate() {
                drawConnections();
                requestAnimationFrame(animate);
            }
            animate();
        }

        // Audio Management
        let currentAudio = null;

        function initAudioBubbles() {
            const bubbles = document.querySelectorAll('.audio-bubble');

            bubbles.forEach(bubble => {
                bubble.addEventListener('mouseenter', function() {
                    const audioSrc = this.dataset.audio;
                    const title = this.dataset.title;

                    // Stop current audio
                    if (currentAudio) {
                        currentAudio.pause();
                        currentAudio.currentTime = 0;
                        document.querySelectorAll('.audio-bubble').forEach(b => b.classList.remove('playing'));
                    }

                    // Play new audio
                    currentAudio = new Audio(audioSrc);
                    currentAudio.volume = 0.7;
                    currentAudio.play().catch(e => {
                        console.log('Audio play failed:', e);
                        // Fallback: show visual feedback even if audio fails
                    });

                    this.classList.add('playing');

                    // Remove playing class when audio ends
                    currentAudio.addEventListener('ended', () => {
                        this.classList.remove('playing');
                    });
                });

                bubble.addEventListener('mouseleave', function() {
                    // Optional: fade out audio on mouse leave
                    if (currentAudio) {
                        const fadeAudio = setInterval(() => {
                            if (currentAudio.volume > 0.1) {
                                currentAudio.volume -= 0.1;
                            } else {
                                clearInterval(fadeAudio);
                                currentAudio.pause();
                                currentAudio.currentTime = 0;
                                this.classList.remove('playing');
                            }
                        }, 50);
                    }
                });
            });
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            // Try to restore from localStorage first (for IDE refreshes)
            const savedPage = localStorage.getItem('currentPage');
            const hash = window.location.hash.substring(1); // Remove the '#'

            if (hash && document.getElementById(hash)) {
                showPage(hash);
            } else if (savedPage && document.getElementById(savedPage)) {
                showPage(savedPage);
            } else {
                showPage('home');
            }

            // Initialize neural network if on home page
            if (!hash && !savedPage) {
                initNeuralNetwork();
                initAudioBubbles();
            }
        });

        // Initialize neural network when home page is shown
        const originalShowPage = showPage;
        showPage = function(pageId) {
            originalShowPage(pageId);
            if (pageId === 'home') {
                setTimeout(() => {
                    initNeuralNetwork();
                    initAudioBubbles();
                }, 100);
            }
        };
    </script>
</body>
</html>
